kubectl get pods
kubectl logs ubuntu-pod 
kubectl logs busy 
cd lx-k_Jul/
ls
mkdir day2
cd days
cd day2
vi ../day1/busybox.yaml 
kubectl replace --force -f ../day1/busybox.yaml
vi sidecar-pod.yaml
kubectl apply -f sidecar-pod.yaml
watch -n1 kubectl get pods
cp -rp ../day1/first-pod.yaml webservers.yaml
vi webservers.yaml
kubectl apply -f webservers.yaml
watch -n1 kubectl get pods
kubectl logs webservers --all-containers 
vi webservers.yaml
vi webservers.yam
vi webservers.yaml 
kubectl replace --force -f webservers.yaml
watch -n1 kubectl get pods
kubectl logs webservers --all-containers 
kubectl get pods
kubectl exec -it sidecar-pod
kubectl exec -it sidecar-pod -- bash
kubectl exec -it sidecar-pod -- sh
kubectl exec -it sidecar-pod -c sidecar -- sh
kubectl logs sidecar-pod 
kubectl logs sidecar-pod --all-containers 
git status
cd ..
git add .
git commit -m "adding day2 files"
git push
git pull
git checkout develop 
git branch
ls -la
rm -rf day1* deploy-k8s* README.md 
ls -la
vi index.html
git add .
git commit -m "adding index.html"
git push
git status
git checkout master
cd day2
ls -la
vi init-pod.yaml
kubectl apply -f init-pod.yaml
watch -n1 kubectl get pods
kubectl delete pod init-pod 
vi init-pod.yaml
kubectl apply -f init-pod.yaml; watch -n1 kubectl get pods
kubectl logs init-pod 
kubectl logs init-pod --all-containers 
kubectl get pods -o wied
kubectl get pods -o wide
kubectl describe pod second-pod 
kubectl exec -it second-pod -- bash
kubectl replace --force -f ../day1/second-pod.yaml 
kubectl describe pod second-pod 
cp -rp ../day1/second-pod.yaml init-web.yaml
vi init-web.yaml
kubectl apply -f init-web.yaml
watch -n1 kubectl get pods
kubectl get pods --show-labels 
kubectl expose pod second-pod --port 80 --name redis-svc ; watch -n1 kubectl get pods
kubectl get svc
vi init-web.yaml 
kubectl logs init-web 
kubectl logs init-web -c svc-check \
kubectl logs init-web -c svc-check 
watch -n1 kubectl get pods
kubectl logs init-web --all-containers 
kubectl get pods
kubectl exec -it ubuntu-pod -- bash
kubectl exec -it busy -- sh
kubectl describe pod busy
q
kubectl delete svc redis-svc 
kubectl delete pod init-web 
vi init-web.yaml 
kubectl apply -f init-web.yaml
kubectl expose pod second-pod --port 80 --name redis-svc ; watch -n1 kubectl get pods
kubectl logs init-web 
kubectl logs init-web  --all-
kubectl logs init-web  --all-containers 
vi init-web.yaml 
kubectl delete pod init-web 
kubectl apply -f init-web.yaml; watch -n1 kubectl get pods
kubectl get pods -o wide
ls
cp -rp init-web.yaml nodename-pod.yaml
vi nodename-pod.yaml
kubectl apply -f nodename-pod.yaml
kubectl get pod -o wide
cp nodename-pod.yaml nodeselector-pod.yaml
vi nodeselector-pod.yaml
kubectl apply -f nodeselector-pod.yaml
kubectl get pod -o wide
kubectl events 
kubectl get nodes --show-labels 
vi nodeselector-pod.yaml 
kubectl label nodes worker02 kubernetes.io/zone=secure
kubectl get pod -o wide
kubectl describe nodes worker02
kubectl describe nodes master 
kubectl get pod -o wide
kubectl taint node worker01 kubernetes.io/zone=dmz:NoSchedule
kubectl create deployment test-deploy1 --image nginx --replicas 3
kubectl get pods -o wide
kubectl run test-podx --image redis
kubectl get pods -o wide
cp -rp nodeselector-pod.yaml toleration-pod.yaml
vi toleration-pod.yaml
kubectl apply -f toleration-pod.yaml 
kubectl get pods -o wide
cp -rp toleration-pod.yaml toleration-execute-pod.yaml
vi toleration-execute-pod.yaml
kubectl apply -f toleration-execute-pod.yaml
kubectl get pods -o wide
watch -n1 kubectl get pods -o wide
kubectl get pods -o wide
vi nodeaffinity-pod.yaml
kubectl get nodes --show-labels 
vi nodeaffinity-pod.yaml
kubectl label nodes worker01 kubernetes.io/storage=gold
kubectl label nodes worker02 kubernetes.io/storage=platinum
vi nodeaffinity-pod.yaml
kubectl apply -f nodeaffinity-pod.yaml
kubectl get pods -o wide
vi podaffinity-pod.yaml
kubectl get pods -o wide --show-labels 
kubectl edit pod nodeaffinity-pod 
kubectl get pods -o wide --show-labels 
vi podaffinity-pod.yaml
kubectl apply -f podaffinity-pod.yaml
kubectl get pods -o wide --show-labels 
vi podaffinity-pod.yaml podAntiAffinity.yaml
cp -rp podaffinity-pod.yaml podAntiAffinity.yaml
vi podAntiAffinity.yaml
kubectl apply -f podAntiAffinity.yaml
vi podAntiAffinity.yaml
kubectl apply -f podAntiAffinity.yaml
kubectl get pods -o wide --show-labels 
vi my-replicaset.yaml
kubectl apply -f my-replicaset.yaml
kubectl get rs,pod 
kubectl delete pod my-replicaset-m595s
kubectl get rs,pod 
kubectl scale replicaset my-replicaset --replicas=10
kubectl get rs,pod 
kubectl scale replicaset my-replicaset --replicas=10
kubectl get rs,pod 
kubectl scale replicaset my-replicaset --replicas=3
kubectl get rs,pod 
kubectl get rs,pod --show-labels 
kubectl label pod second-pod app=myapp
kubectl get rs,pod --show-labels 
kubectl label pod second-pod app-
kubectl get rs,pod --show-labels 
kubectl describe rs my-replicaset 
vi my-deployment.yaml
kubectl apply -f my-deployment.yaml
kubectl get deploy
kubectl delete deployments.apps test-deploy1 
kubectl get deploy
kubectl get deploy,rs,pod
kubectl edit deployments.apps my-deployment 
kubectl get deploy,rs,pod
kubectl edit deployments.apps my-deployment 
kubectl scale deployment my-deployment --replicas 9
kubectl get deploy,rs,pod
kubectl describe deployments.apps my-deployment 
kubectl set image deployments my-deployment web=nginx:1.19.2
kubectl rollout status deployment my-deployment 
kubectl rollout status deployment my-deployment
kubectl annotate deployments.apps my-deployment kubernetes.io/change-cause="updated version to 1.19.2, change number: GZ1234, implementer: Marcin K."
kubectl rollout history deployment my-deployment 
kubectl edit deployments.apps my-deployment 
watch -n1 kubectl get pods
kubectl rollout history deployment my-deployment 
kubectl set image deployments my-deployment web=nginx:broken
kubectl rollout status deployment my-deployment 
watch -n1 kubectl get pods
kubectl rollout history deployment my-deployment 
kubectl annotate deployments.apps my-deployment kubernetes.io/change-cause="tried new version suggested by Dev team - broken " 
kubectl rollout history deployment my-deployment 
kubectl rollout undo deployment my-deployment --to-revision 2
watch -n1 kubectl get pods
kubectl rollout history deployment my-deployment 
kubectl describe deployments.apps my-deployment 
kubectl rollout restart deployment my-deployment 
watch -n1 kubectl get pods
kubectl get nodes
kubectl edit deployments.apps my-deployment 
watch -n1 kubectl get pods
kubectl set image deployments my-deployment web=nginx:broken
watch -n1 kubectl get pods
kubectl rollout history deployment my-deployment 
kubectl rollout undo deployment my-deployment --to-revision 3
watch -n1 kubectl get pods
kubectl scale deployment my-deployment --replicas 0 
watch -n1 kubectl get pods
kubectl scale deployment my-deployment --replicas 9
watch -n1 kubectl get pods
kubectl get rs
kubectl describe rs my-deployment-54776bf59b
kubectl delete rs my-deployment-54776bf59b
kubectl rollout history deployment my-deployment 
kubectl describe deployments.apps my-deployment 
kubectl set image deployments my-deployment web=nginx:1.19.2 --record
kubectl rollout history deployment my-deployment 
kubectl get pods
kubectl delete all --all
kubectl get pods
ls -la
cp -rp toleration-pod.yaml readiness-pod.yaml
vi readiness-pod.yaml
kubectl apply -f readiness-pod.yaml
watch -n1 kubectl get pod
kubectl logs readiness-pod 
watch -n1 kubectl get pod
kubectl events
kubectl exec -it readiness-pod - bash
kubectl exec -it readiness-pod -- bash
watch -n1 kubectl get pod
kubectl events
kubectl logs readiness-pod 
kubectl exec -it readiness-pod -- bash
kubectl logs readiness-pod 
kubectl logs readiness-pod -w
kubectl logs readiness-pod -f
watch -n1 kubectl get pod
vi liveness-pod.yaml
kubectl apply -f liveness-pod.yaml
watch -n1 kubectl get pod
kubectl events 
vi my-daemonset.yaml
kubectl apply -f my-daemonset.yaml
kubectl get po -o wide
kubectl delete pod liveness-pod 
kubectl get po -o wide
kubectl describe ds my-daemonset 
kubectl top pods 
kubectl get pods -o wide
ls -la
kubectl create deployment nginx-deploy --replicas=3 --image=nginx
kubectl get deploy
kubectl get pods
kubectl expose deployment nginx-deploy --name nginx-deploy-svc --port 80 
kubectl get svc 
curl -v http://10.104.236.218
kubectl describe svc nginx-deploy-svc 
kubectl get svc,ep,pod -o wide
kubectl expose deployment nginx-deploy --name nginx-deploy-svc-np --port 80 --type NodePort  
kubectl get svc
kubectl get nodes -o wide
kubectl expose deployment nginx-deploy --name nginx-deploy-svc-lb --port 80 --type LoadBalancer 
kubectl get svc
kubectl edit svc nginx-deploy-svc-np
kubectl get svc
kubectl get svc nginx-deploy-svc -o yaml
kubectl edit deployments.apps nginx-deploy 
history
history | awk '$1 > 246' | cut -c 8- > ../day2-history.txt
